
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>4.3 geopandas &#8212; SARP Programming Lessons</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'sarp_lessons/1_python_progression/4-spatiotemporal/4-3_geopandas';</script>
    <link rel="icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="4.4 Spatial Operations and rio" href="4-4_spatial_operations_rio.html" />
    <link rel="prev" title="4.2 Spatial Data" href="4-2_spatial_data.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/sarp_logo.png" class="logo__image only-light" alt="SARP Programming Lessons - Home"/>
    <img src="../../../_static/sarp_logo.png" class="logo__image only-dark pst-js-only" alt="SARP Programming Lessons - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    Python Programming for Earth Science Researchers
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Core Python Progression</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../1-general_python/index.html">1. Python Building Blocks</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../1-general_python/1-1_variables_types_ifstatements.html">1.1 Variables, Data Types, and if Statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1-general_python/1-2_lists_dictionaries.html">1.2 Lists and Dictionaries</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../2-tabular_data/index.html">2. Tabular Data</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-tabular_data/2-1_pandas.html">2.1 The <code class="docutils literal notranslate"><span class="pre">pandas</span></code> Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-tabular_data/2-2_filtering_groupby.html">2.2 Filtering and groupby</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../3-gridded_data/index.html">3. Gridded Data</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../3-gridded_data/3-1_xarray.html">3.1 The <code class="docutils literal notranslate"><span class="pre">xarray</span></code> Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-gridded_data/3-2_xarray_computation.html">3.2 Starting Computations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-gridded_data/3-3_xarray_groupby.html">3.3 <code class="docutils literal notranslate"><span class="pre">xarray</span></code> Groupby</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">4. Spatio-temporal Python</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="4-1_datetimes.html">4.1 Datetimes</a></li>
<li class="toctree-l2"><a class="reference internal" href="4-2_spatial_data.html">4.2 Spatial Data</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">4.3 <code class="docutils literal notranslate"><span class="pre">geopandas</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-4_spatial_operations_rio.html">4.4 Spatial Operations and <code class="docutils literal notranslate"><span class="pre">rio</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-5_mapping_cartopy.html">4.5 Mapping with <code class="docutils literal notranslate"><span class="pre">cartopy</span></code> and Colors</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../5-visualization/index.html">5. Visualization</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../5-visualization/5-1_static_viz_matplotlib.html">5.1 Static Visualization with <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-visualization/5-2_building_on_matplotlib.html">5.2 Building on top of <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-visualization/5-3_dynamic_visualization.html">5.3 Dynamic Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-visualization/5-4_viewing_images.html">5.4 Viewing Images</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Computational Skills</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../2_computational_skills/file_organization.html">Organizing your Files</a></li>

<li class="toctree-l1"><a class="reference internal" href="../../2_computational_skills/debugging_lesson.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../additional_lectures/hierarchical_data/hierarchical_data.html">Hierarchical Data Structure</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Open Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../3_open_science/cloud_lesson.html">Science on the Cloud</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Practice Problems &amp; Answers</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../4_practice_problems/index.html">Python Practice</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/1-1_variables_data_practice.html">1.1 Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/1-1_variables_data_answers.html">1.1 Answers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/1-2_lists_dicts_practice.html">1.2 Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/1-2_lists_dicts_answers.html">1.2 Answers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/2-1_pandas_practice.html">2.1 Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/2-1_pandas_answers.html">2.1 Answers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/2-2_filtering_groupby_practice.html">2.2 Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/2-2_filtering_groupby_answers.html">2.2 Answers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/3-1_xarray_practice.html">3.1 Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/3-1_xarray_answers.html">3.1 Answers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/3-2_xarray_practice.html">3.2 Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/4-1_datetimes_practice.html">4.1 Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/4-1_datetimes_answers.html">4.1 Answers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/4-2_spatial_data_practice.html">4.2 Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/4-2_spatial_data_answers.html">4.2 Answers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../4_practice_problems/1_python/4-3_geopandas_practice.html">4.3 Problems</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Example Gallery</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../5_example_gallery/index.html">Visualization Examples</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../5_example_gallery/logplot.html">Plot with multiple lines and a log axis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../5_example_gallery/flight_track.html">Flight Track Plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../5_example_gallery/altitude_twin_axes.html">Altitude Plot with Twin Axes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../5_example_gallery/gridded_mapping.html">Cartopy with gridded data</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contributor Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../6_contributors_instructors/instructors_guide.html">Instructor‚Äôs Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../6_contributors_instructors/env_setup.html">Contributing to SARP Lessons</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/rwegener2/sarp_lessons" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/rwegener2/sarp_lessons/issues/new?title=Issue%20on%20page%20%2Fsarp_lessons/1_python_progression/4-spatiotemporal/4-3_geopandas.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/sarp_lessons/1_python_progression/4-spatiotemporal/4-3_geopandas.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>4.3 geopandas</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#context">Context</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><code class="docutils literal notranslate"><span class="pre">geopandas</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-our-pandas-dataframe-to-a-geodataframe">Converting our <code class="docutils literal notranslate"><span class="pre">pandas</span></code> dataframe to a GeoDataFrame</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spatial-data-operations">Spatial data operations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reprojecting-to-meters">Reprojecting to meters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-plots">Quick Plots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-a-geodataframe-by-a-vector">Filtering a geodataframe by a vector</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="geopandas">
<h1>4.3 <code class="docutils literal notranslate"><span class="pre">geopandas</span></code><a class="headerlink" href="#geopandas" title="Link to this heading">#</a></h1>
<div class="note dropdown admonition">
<p class="admonition-title">Lesson Content</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geopandas</span></code> vs. <code class="docutils literal notranslate"><span class="pre">pandas</span></code></p></li>
<li><p>spatial data operations</p></li>
<li><p>reprojecting to meters</p></li>
<li><p>filtering a geodataframe by a vector</p></li>
</ul>
</div>
<section id="context">
<h2>Context<a class="headerlink" href="#context" title="Link to this heading">#</a></h2>
<p>üêº‚ûïüåê = üöÄüéâ‚ù§Ô∏è</p>
<p>We‚Äôve used <code class="docutils literal notranslate"><span class="pre">pandas</span></code> to help us get the most out of our csv and excel data.  We talked yesterday about how spatial data is stored and organized.  Today we combine both worlds with <code class="docutils literal notranslate"><span class="pre">geopandas</span></code>, an extenions of <code class="docutils literal notranslate"><span class="pre">pandas</span></code> specific to spatial data.</p>
<p>Just like how we saw that converting datetime strings to Python datetime objects, converting our latitudes and longitudes to points allows us to use a world more of spatial data analysis techniques.  It‚Äôs so exciting!</p>
</section>
<section id="id1">
<h2><code class="docutils literal notranslate"><span class="pre">geopandas</span></code><a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>GeoPandas is an extension of Pandas. GeoDataFrames have the same row, column structure with indexes that are accessed in the same way as Pandas. The difference is that they also have a <code class="docutils literal notranslate"><span class="pre">geometry</span></code> column.</p>
<p><img alt="Geodataframe" src="../../../_images/geodataframe.png" /></p>
<p>Let‚Äôs look at an example geodataframe that comes pre-loaded on geopandas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># gpd.read_file(gpd.datasets.get_path(&#39;naturalearth_lowres&#39;))</span>
</pre></div>
</div>
</div>
</div>
<p>What is the data type of the <code class="docutils literal notranslate"><span class="pre">geometry</span></code> column? It‚Äôs shapely objects! They are Polygons, like we say yesterday in the Spatial Data lecture.</p>
</section>
<section id="converting-our-pandas-dataframe-to-a-geodataframe">
<h2>Converting our <code class="docutils literal notranslate"><span class="pre">pandas</span></code> dataframe to a GeoDataFrame<a class="headerlink" href="#converting-our-pandas-dataframe-to-a-geodataframe" title="Link to this heading">#</a></h2>
<p>geodataframe = pandas dataframe + geometry column of shapely objects</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># This line shortens the output</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><em>This dataset holds data from the firex campaign. We will be using just a few columns for this lesson.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">firex_filepath</span> <span class="o">=</span> <span class="s2">&quot;./data/Copy of SARP 2009 to 2020 sent to Alex with plotting.xlsx&quot;</span>
<span class="n">firex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">firex_filepath</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">)</span>
<span class="n">firex</span> <span class="o">=</span> <span class="n">firex</span><span class="p">[[</span><span class="s1">&#39;Can#&#39;</span><span class="p">,</span> <span class="s1">&#39;Jday&#39;</span><span class="p">,</span> <span class="s1">&#39;Latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;Longitude&#39;</span><span class="p">,</span> <span class="s1">&#39;State&#39;</span><span class="p">,</span> <span class="s1">&#39;CH4 (ppmv)&#39;</span><span class="p">,</span>
       <span class="s1">&#39;CO (ppbv)&#39;</span><span class="p">,</span> <span class="s1">&#39;CO2_ppm&#39;</span><span class="p">,</span> <span class="s1">&#39;OCS (MS)&#39;</span><span class="p">,</span> <span class="s1">&#39;DMS (MS)&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">4490</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">firex</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Can#</th>
      <th>Jday</th>
      <th>Latitude</th>
      <th>Longitude</th>
      <th>...</th>
      <th>CO (ppbv)</th>
      <th>CO2_ppm</th>
      <th>OCS (MS)</th>
      <th>DMS (MS)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>8198</td>
      <td>202.0</td>
      <td>35.000000</td>
      <td>-118.943333</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>518.0</td>
      <td>-888.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7167</td>
      <td>202.0</td>
      <td>35.081667</td>
      <td>-119.101000</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>519.0</td>
      <td>-888.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6354</td>
      <td>202.0</td>
      <td>35.170000</td>
      <td>-119.233333</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>495.0</td>
      <td>14.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7226</td>
      <td>202.0</td>
      <td>35.346667</td>
      <td>-119.381667</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>505.0</td>
      <td>11.9</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6269</td>
      <td>202.0</td>
      <td>35.438333</td>
      <td>-119.433333</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>487.0</td>
      <td>17.4</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4485</th>
      <td>5090</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>553.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>4486</th>
      <td>5028</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>528.0</td>
      <td>5.5</td>
    </tr>
    <tr>
      <th>4487</th>
      <td>5017</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>583.0</td>
      <td>8.6</td>
    </tr>
    <tr>
      <th>4488</th>
      <td>5091</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>534.0</td>
      <td>3.9</td>
    </tr>
    <tr>
      <th>4489</th>
      <td>5046</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>530.0</td>
      <td>9.1</td>
    </tr>
  </tbody>
</table>
<p>4490 rows √ó 10 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Drop columns where Latitude or Longitude are nan</span>
<span class="n">firex</span> <span class="o">=</span> <span class="n">firex</span><span class="p">[</span><span class="n">firex</span><span class="p">[</span><span class="s1">&#39;Longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()]</span>
<span class="c1"># Replace both nan values with np.nan</span>
<span class="n">firex</span> <span class="o">=</span> <span class="n">firex</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="o">-</span><span class="mi">999</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="o">-</span><span class="mi">888</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<p>If you have string latitude and longitude columns (as in this dataframe) there is a function prebuilt for that common case: <code class="docutils literal notranslate"><span class="pre">gpd.points_from_xy()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">firex</span><span class="p">[</span><span class="s1">&#39;Longitude&#39;</span><span class="p">],</span> <span class="n">firex</span><span class="p">[</span><span class="s1">&#39;Latitude&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;GeometryArray&gt;
[    &lt;POINT (-118.943 35)&gt;, &lt;POINT (-119.101 35.082)&gt;,
  &lt;POINT (-119.233 35.17)&gt;, &lt;POINT (-119.382 35.347)&gt;,
 &lt;POINT (-119.433 35.438)&gt;, &lt;POINT (-119.433 35.567)&gt;,
 &lt;POINT (-119.442 35.657)&gt;,  &lt;POINT (-119.45 35.757)&gt;,
 &lt;POINT (-119.457 35.857)&gt;,  &lt;POINT (-119.45 35.958)&gt;,
 ...
  &lt;POINT (-95.342 29.717)&gt;,  &lt;POINT (-95.342 29.717)&gt;,
  &lt;POINT (-95.342 29.717)&gt;,  &lt;POINT (-95.342 29.717)&gt;,
  &lt;POINT (-95.342 29.717)&gt;,  &lt;POINT (-95.342 29.717)&gt;,
  &lt;POINT (-95.342 29.717)&gt;,  &lt;POINT (-95.342 29.717)&gt;,
  &lt;POINT (-95.342 29.717)&gt;,  &lt;POINT (-95.342 29.717)&gt;]
Length: 4405, dtype: geometry
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREX</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span>
    <span class="n">firex</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">firex</span><span class="p">[</span><span class="s1">&#39;Longitude&#39;</span><span class="p">],</span> <span class="n">firex</span><span class="p">[</span><span class="s1">&#39;Latitude&#39;</span><span class="p">]),</span> 
    <span class="n">crs</span><span class="o">=</span><span class="s1">&#39;epsg:4326&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREX</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Can#</th>
      <th>Jday</th>
      <th>Latitude</th>
      <th>Longitude</th>
      <th>...</th>
      <th>CO2_ppm</th>
      <th>OCS (MS)</th>
      <th>DMS (MS)</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>8198</td>
      <td>202.0</td>
      <td>35.000000</td>
      <td>-118.943333</td>
      <td>...</td>
      <td>NaN</td>
      <td>518.0</td>
      <td>NaN</td>
      <td>POINT (-118.94333 35)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7167</td>
      <td>202.0</td>
      <td>35.081667</td>
      <td>-119.101000</td>
      <td>...</td>
      <td>NaN</td>
      <td>519.0</td>
      <td>NaN</td>
      <td>POINT (-119.101 35.08167)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6354</td>
      <td>202.0</td>
      <td>35.170000</td>
      <td>-119.233333</td>
      <td>...</td>
      <td>NaN</td>
      <td>495.0</td>
      <td>14.0</td>
      <td>POINT (-119.23333 35.17)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7226</td>
      <td>202.0</td>
      <td>35.346667</td>
      <td>-119.381667</td>
      <td>...</td>
      <td>NaN</td>
      <td>505.0</td>
      <td>11.9</td>
      <td>POINT (-119.38167 35.34667)</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6269</td>
      <td>202.0</td>
      <td>35.438333</td>
      <td>-119.433333</td>
      <td>...</td>
      <td>NaN</td>
      <td>487.0</td>
      <td>17.4</td>
      <td>POINT (-119.43333 35.43833)</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4485</th>
      <td>5090</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>NaN</td>
      <td>553.0</td>
      <td>4.0</td>
      <td>POINT (-95.3416 29.7172)</td>
    </tr>
    <tr>
      <th>4486</th>
      <td>5028</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>NaN</td>
      <td>528.0</td>
      <td>5.5</td>
      <td>POINT (-95.3416 29.7172)</td>
    </tr>
    <tr>
      <th>4487</th>
      <td>5017</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>NaN</td>
      <td>583.0</td>
      <td>8.6</td>
      <td>POINT (-95.3416 29.7172)</td>
    </tr>
    <tr>
      <th>4488</th>
      <td>5091</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>NaN</td>
      <td>534.0</td>
      <td>3.9</td>
      <td>POINT (-95.3416 29.7172)</td>
    </tr>
    <tr>
      <th>4489</th>
      <td>5046</td>
      <td>NaN</td>
      <td>29.717200</td>
      <td>-95.341600</td>
      <td>...</td>
      <td>NaN</td>
      <td>530.0</td>
      <td>9.1</td>
      <td>POINT (-95.3416 29.7172)</td>
    </tr>
  </tbody>
</table>
<p>4405 rows √ó 11 columns</p>
</div></div></div>
</div>
<div class="tip admonition">
<p class="admonition-title">üìù Check your understanding</p>
<p>What is the datatype of the <code class="docutils literal notranslate"><span class="pre">geometry</span></code> column?</p>
<p>A) integer</p>
<p>B) datetime</p>
<p>C) float</p>
<p>D) shapely Point</p>
<p>E) list</p>
</div>
</section>
<section id="spatial-data-operations">
<h2>Spatial data operations<a class="headerlink" href="#spatial-data-operations" title="Link to this heading">#</a></h2>
<p>By using <code class="docutils literal notranslate"><span class="pre">shapely</span></code> points we get the advantages of spatial operations built into our DataFrame.</p>
<p>Example question: <em>How far are all of my data points from Mt. St. Helens?</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">shapely.geometry</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mt_st_helens</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">122.1956</span><span class="p">,</span> <span class="mf">46.1914</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREX</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">mt_st_helens</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/nb/y7dp0ct55_58hrhrhlz5vbkm0000gn/T/ipykernel_6278/3190452269.py:1: UserWarning: Geometry is in a geographic CRS. Results from &#39;distance&#39; are likely incorrect. Use &#39;GeoSeries.to_crs()&#39; to re-project geometries to a projected CRS before this operation.

  geoFIREX[&#39;geometry&#39;].distance(mt_st_helens)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0       11.654384
1       11.532681
2       11.412549
3       11.203859
4       11.102187
          ...    
4485    31.504549
4486    31.504549
4487    31.504549
4488    31.504549
4489    31.504549
Length: 4405, dtype: float64
</pre></div>
</div>
</div>
</div>
<section id="reprojecting-to-meters">
<h3>Reprojecting to meters<a class="headerlink" href="#reprojecting-to-meters" title="Link to this heading">#</a></h3>
<p>Reprojecting a GeoDataFrame is really smooth, it only takes one <code class="docutils literal notranslate"><span class="pre">.to_crs()</span></code> method.  The only thing to be careful of is to make sure first that you have a crs set for your dataframe.  If you don‚Äôt and your points are in lat/lon then EPSG:4326 is the CRS you should give it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the CRS, if you didn&#39;t do it when you read in the data</span>
<span class="n">geoFIREX</span> <span class="o">=</span> <span class="n">geoFIREX</span><span class="o">.</span><span class="n">set_crs</span><span class="p">(</span><span class="n">epsg</span><span class="o">=</span><span class="mi">4326</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">geoFIREX</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EPSG:4326
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREX</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0             POINT (-118.94333 35)
1         POINT (-119.101 35.08167)
2          POINT (-119.23333 35.17)
3       POINT (-119.38167 35.34667)
4       POINT (-119.43333 35.43833)
                   ...             
4485       POINT (-95.3416 29.7172)
4486       POINT (-95.3416 29.7172)
4487       POINT (-95.3416 29.7172)
4488       POINT (-95.3416 29.7172)
4489       POINT (-95.3416 29.7172)
Name: geometry, Length: 4405, dtype: geometry
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREXprojcrs</span> <span class="o">=</span> <span class="n">geoFIREX</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">epsg</span><span class="o">=</span><span class="mi">3857</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREXprojcrs</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">mt_st_helens</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0       13879.867483
1       13899.942512
2       13917.606473
3       13940.611137
4       13949.878850
            ...     
4485    11165.245602
4486    11165.245602
4487    11165.245602
4488    11165.245602
4489    11165.245602
Length: 4405, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">üìù Check your understanding</p>
<p>Define a shapely point that represents the SARP Conference room. Calculate the distance from the SARP conference room to each point in the FIREX dataset.</p>
</div>
<div class="tip admonition">
<p class="admonition-title">üìù Check your understanding</p>
<p>Say I run the block of code <code class="docutils literal notranslate"><span class="pre">geoFIREX.to_crs(epsg=3857)</span></code> and get the following error:</p>
<p><code class="docutils literal notranslate"><span class="pre">ValueError:</span> <span class="pre">Cannot</span> <span class="pre">transform</span> <span class="pre">naive</span> <span class="pre">geometries.</span>&#160; <span class="pre">Please</span> <span class="pre">set</span> <span class="pre">a</span> <span class="pre">crs</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">object</span> <span class="pre">first.</span></code></p>
<p>What is likely my problem?</p>
</div>
</section>
</section>
<section id="quick-plots">
<h2>Quick Plots<a class="headerlink" href="#quick-plots" title="Link to this heading">#</a></h2>
<p>One great feature of the geodataframes is that they have a <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method that can be used to view the general distribution of data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREX</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="../../../_images/10797a9fb5dcc03a1e25cfdff2bf82d4e7a634f4a592736f4edd41a92d926355.png" src="../../../_images/10797a9fb5dcc03a1e25cfdff2bf82d4e7a634f4a592736f4edd41a92d926355.png" />
</div>
</div>
<p>You can use <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> arguments to begin to modify your graph.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREX</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;CO2_ppm&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">480</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="../../../_images/f496e18124155ee82e4b436f7ab995daf211223d550096361db5385e015b4d89.png" src="../../../_images/f496e18124155ee82e4b436f7ab995daf211223d550096361db5385e015b4d89.png" />
</div>
</div>
<p>Another built-in method for viewing data is <code class="docutils literal notranslate"><span class="pre">.explore()</span></code>. In order to use <code class="docutils literal notranslate"><span class="pre">.explore()</span></code> the dataframe must have a CRS set. For more features with the <code class="docutils literal notranslate"><span class="pre">.explore()</span></code> method check out <a class="reference external" href="https://geopandas.org/en/stable/docs/user_guide/interactive_mapping.html">the geopandas user guide</a>. You can see the available basemaps on <a class="reference external" href="https://geopandas.org/en/stable/docs/reference/api/geopandas.GeoDataFrame.explore.html">the docs page</a> for <code class="docutils literal notranslate"><span class="pre">.explore()</span></code> under the <code class="docutils literal notranslate"><span class="pre">tiles</span></code> argument.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREX</span><span class="o">.</span><span class="n">explore</span><span class="p">(</span><span class="n">tiles</span><span class="o">=</span><span class="s2">&quot;OpenStreetMap&quot;</span><span class="p">)</span>
<span class="c1"># And example of using a different basemap</span>
<span class="c1"># geoFIREX.explore(tiles=&quot;http://c.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg&quot;, attr=&quot;Stamen Watercolor&quot;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">geoFIREX</span><span class="o">.</span><span class="n">explore</span><span class="p">(</span><span class="n">tiles</span><span class="o">=</span><span class="s2">&quot;OpenStreetMap&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1"># And example of using a different basemap</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># geoFIREX.explore(tiles=&quot;http://c.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg&quot;, attr=&quot;Stamen Watercolor&quot;)</span>

<span class="nn">File ~/miniconda3/envs/sarp/lib/python3.13/site-packages/geopandas/geodataframe.py:2305,</span> in <span class="ni">GeoDataFrame.explore</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">2303</span> <span class="nd">@doc</span><span class="p">(</span><span class="n">_explore</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2304</span> <span class="k">def</span><span class="w"> </span><span class="nf">explore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="ne">-&gt; </span><span class="mi">2305</span>     <span class="k">return</span> <span class="n">_explore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/sarp/lib/python3.13/site-packages/geopandas/explore.py:289,</span> in <span class="ni">_explore</span><span class="nt">(df, column, cmap, color, m, tiles, attr, tooltip, popup, highlight, categorical, legend, scheme, k, vmin, vmax, width, height, categories, classification_kwds, control_scale, marker_type, marker_kwds, style_kwds, highlight_kwds, missing_kwds, tooltip_kwds, popup_kwds, legend_kwds, map_kwds, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">287</span> <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span>
<span class="g g-Whitespace">    </span><span class="mi">288</span> <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="ne">--&gt; </span><span class="mi">289</span> <span class="kn">from</span><span class="w"> </span><span class="nn">mapclassify</span><span class="w"> </span><span class="kn">import</span> <span class="n">classify</span>
<span class="g g-Whitespace">    </span><span class="mi">290</span> <span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">colors</span>
<span class="g g-Whitespace">    </span><span class="mi">292</span> <span class="c1"># isolate MPL version - GH#2596</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">mapclassify</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">4</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">contextlib</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">from</span><span class="w"> </span><span class="nn">importlib.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">PackageNotFoundError</span><span class="p">,</span> <span class="n">version</span>
<span class="ne">----&gt; </span><span class="mi">4</span> <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">util</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._classify_API</span><span class="w"> </span><span class="kn">import</span> <span class="n">classify</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="kn">from</span><span class="w"> </span><span class="nn">.classifiers</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">CLASSIFIERS</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="n">BoxPlot</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">26</span>     <span class="n">load_example</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">27</span> <span class="p">)</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">mapclassify</span><span class="o">/</span><span class="n">util</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">3</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._classify_API</span><span class="w"> </span><span class="kn">import</span> <span class="n">classify</span> <span class="k">as</span> <span class="n">_classify</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_color_array</span><span class="p">(</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">values</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="n">scheme</span><span class="o">=</span><span class="s2">&quot;quantiles&quot;</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span>     <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span> <span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Convert array of values into RGBA or hex colors using a colormap and classifier.</span>
<span class="g g-Whitespace">     </span><span class="mi">16</span><span class="sd">     This function is useful for visualization libraries that require users to provide</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span><span class="sd">     an array of colors for each object (like pydeck or lonboard) but can also be used</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">     </span><span class="mi">45</span><span class="sd"> </span>
<span class="g g-Whitespace">     </span><span class="mi">46</span><span class="sd">     &quot;&quot;&quot;</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">mapclassify</span><span class="o">/</span><span class="n">_classify_API</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">from</span><span class="w"> </span><span class="nn">.classifiers</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">BoxPlot</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">EqualInterval</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="n">FisherJenks</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">FisherJenksSampled</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="n">HeadTailBreaks</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">JenksCaspall</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="n">JenksCaspallForced</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>     <span class="n">JenksCaspallSampled</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="n">MaximumBreaks</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span>     <span class="n">MaxP</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span>     <span class="n">NaturalBreaks</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span>     <span class="n">Percentiles</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span>     <span class="n">PrettyBreaks</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span>     <span class="n">Quantiles</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">16</span>     <span class="n">StdMean</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span>     <span class="n">UserDefined</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">18</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span> <span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Stefanie Lumnitz &lt;stefanie.lumitz@gmail.com&gt;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">23</span> <span class="n">_classifiers</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">     </span><span class="mi">24</span>     <span class="s2">&quot;boxplot&quot;</span><span class="p">:</span> <span class="n">BoxPlot</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">25</span>     <span class="s2">&quot;equalinterval&quot;</span><span class="p">:</span> <span class="n">EqualInterval</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">39</span>     <span class="s2">&quot;userdefined&quot;</span><span class="p">:</span> <span class="n">UserDefined</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">40</span> <span class="p">}</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">mapclassify</span><span class="o">/</span><span class="n">classifiers</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">11</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="kn">import</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">stats</span>
<span class="ne">---&gt; </span><span class="mi">11</span> <span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Sergio J. Rey&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> <span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
<span class="g g-Whitespace">     </span><span class="mi">16</span>     <span class="s2">&quot;MapClassifier&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span>     <span class="s2">&quot;quantile&quot;</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">36</span>     <span class="s2">&quot;CLASSIFIERS&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span> <span class="p">]</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">sklearn</span><span class="o">/</span><span class="n">cluster</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">6</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Popular unsupervised clustering algorithms.&quot;&quot;&quot;</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># Authors: The scikit-learn developers</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1"># SPDX-License-Identifier: BSD-3-Clause</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._affinity_propagation</span><span class="w"> </span><span class="kn">import</span> <span class="n">AffinityPropagation</span><span class="p">,</span> <span class="n">affinity_propagation</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._agglomerative</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="n">AgglomerativeClustering</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>     <span class="n">FeatureAgglomeration</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="n">linkage_tree</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span>     <span class="n">ward_tree</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._bicluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">SpectralBiclustering</span><span class="p">,</span> <span class="n">SpectralCoclustering</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">sklearn</span><span class="o">/</span><span class="n">cluster</span><span class="o">/</span><span class="n">_affinity_propagation</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">14</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> <span class="kn">from</span><span class="w"> </span><span class="nn">..base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseEstimator</span><span class="p">,</span> <span class="n">ClusterMixin</span><span class="p">,</span> <span class="n">_fit_context</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="kn">from</span><span class="w"> </span><span class="nn">..exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConvergenceWarning</span>
<span class="ne">---&gt; </span><span class="mi">14</span> <span class="kn">from</span><span class="w"> </span><span class="nn">..metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">euclidean_distances</span><span class="p">,</span> <span class="n">pairwise_distances_argmin</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> <span class="kn">from</span><span class="w"> </span><span class="nn">..utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">check_random_state</span>
<span class="g g-Whitespace">     </span><span class="mi">16</span> <span class="kn">from</span><span class="w"> </span><span class="nn">..utils._param_validation</span><span class="w"> </span><span class="kn">import</span> <span class="n">Interval</span><span class="p">,</span> <span class="n">StrOptions</span><span class="p">,</span> <span class="n">validate_params</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">sklearn</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">6</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Score functions, performance metrics, pairwise metrics and distance computations.&quot;&quot;&quot;</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># Authors: The scikit-learn developers</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1"># SPDX-License-Identifier: BSD-3-Clause</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">cluster</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._classification</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="n">accuracy_score</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>     <span class="n">balanced_accuracy_score</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">27</span>     <span class="n">zero_one_loss</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">28</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">29</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._dist_metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">DistanceMetric</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">sklearn</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="n">cluster</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">28</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._bicluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">consensus_score</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._supervised</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span>     <span class="n">adjusted_mutual_info_score</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span>     <span class="n">adjusted_rand_score</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">26</span>     <span class="n">v_measure_score</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">27</span> <span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">28</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._unsupervised</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">29</span>     <span class="n">calinski_harabasz_score</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">30</span>     <span class="n">davies_bouldin_score</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">31</span>     <span class="n">silhouette_samples</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">32</span>     <span class="n">silhouette_score</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">33</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">35</span> <span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
<span class="g g-Whitespace">     </span><span class="mi">36</span>     <span class="s2">&quot;adjusted_mutual_info_score&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span>     <span class="s2">&quot;normalized_mutual_info_score&quot;</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">54</span>     <span class="s2">&quot;consensus_score&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">55</span> <span class="p">]</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">sklearn</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="n">cluster</span><span class="o">/</span><span class="n">_unsupervised</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">21</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> <span class="kn">from</span><span class="w"> </span><span class="nn">...utils._array_api</span><span class="w"> </span><span class="kn">import</span> <span class="n">_atol_for_type</span>
<span class="g g-Whitespace">     </span><span class="mi">16</span> <span class="kn">from</span><span class="w"> </span><span class="nn">...utils._param_validation</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span>     <span class="n">Interval</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">18</span>     <span class="n">StrOptions</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">19</span>     <span class="n">validate_params</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span> <span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">21</span> <span class="kn">from</span><span class="w"> </span><span class="nn">..pairwise</span><span class="w"> </span><span class="kn">import</span> <span class="n">_VALID_METRICS</span><span class="p">,</span> <span class="n">pairwise_distances</span><span class="p">,</span> <span class="n">pairwise_distances_chunked</span>
<span class="g g-Whitespace">     </span><span class="mi">24</span> <span class="k">def</span><span class="w"> </span><span class="nf">check_number_of_labels</span><span class="p">(</span><span class="n">n_labels</span><span class="p">,</span> <span class="n">n_samples</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">25</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Check that number of labels are valid.</span>
<span class="g g-Whitespace">     </span><span class="mi">26</span><span class="sd"> </span>
<span class="g g-Whitespace">     </span><span class="mi">27</span><span class="sd">     Parameters</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">     </span><span class="mi">33</span><span class="sd">         Number of samples.</span>
<span class="g g-Whitespace">     </span><span class="mi">34</span><span class="sd">     &quot;&quot;&quot;</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">sklearn</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="n">pairwise</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">46</span>
<span class="g g-Whitespace">     </span><span class="mi">44</span> <span class="kn">from</span><span class="w"> </span><span class="nn">..utils.parallel</span><span class="w"> </span><span class="kn">import</span> <span class="n">Parallel</span><span class="p">,</span> <span class="n">delayed</span>
<span class="g g-Whitespace">     </span><span class="mi">45</span> <span class="kn">from</span><span class="w"> </span><span class="nn">..utils.validation</span><span class="w"> </span><span class="kn">import</span> <span class="n">_num_samples</span><span class="p">,</span> <span class="n">check_non_negative</span>
<span class="ne">---&gt; </span><span class="mi">46</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._pairwise_distances_reduction</span><span class="w"> </span><span class="kn">import</span> <span class="n">ArgKmin</span>
<span class="g g-Whitespace">     </span><span class="mi">47</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._pairwise_fast</span><span class="w"> </span><span class="kn">import</span> <span class="n">_chi2_kernel_fast</span><span class="p">,</span> <span class="n">_sparse_manhattan</span>
<span class="g g-Whitespace">     </span><span class="mi">50</span> <span class="c1"># Utility Functions</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">sklearn</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="n">_pairwise_distances_reduction</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">97</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Authors: The scikit-learn developers</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1"># SPDX-License-Identifier: BSD-3-Clause</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> 
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">94</span> <span class="c1">#    (see :class:`MiddleTermComputer{32,64}`).</span>
<span class="g g-Whitespace">     </span><span class="mi">95</span> <span class="c1">#</span>
<span class="ne">---&gt; </span><span class="mi">97</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._dispatcher</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">98</span>     <span class="n">ArgKmin</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span>     <span class="n">ArgKminClassMode</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">100</span>     <span class="n">BaseDistancesReductionDispatcher</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span>     <span class="n">RadiusNeighbors</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">102</span>     <span class="n">RadiusNeighborsClassMode</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">103</span>     <span class="n">sqeuclidean_row_norms</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span> <span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
<span class="g g-Whitespace">    </span><span class="mi">107</span>     <span class="s2">&quot;BaseDistancesReductionDispatcher&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">108</span>     <span class="s2">&quot;ArgKmin&quot;</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">112</span>     <span class="s2">&quot;sqeuclidean_row_norms&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">113</span> <span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">115</span> <span class="c1"># ruff: noqa: E501</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">sarp</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">sklearn</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="n">_pairwise_distances_reduction</span><span class="o">/</span><span class="n">_dispatcher</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">16</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="kn">from</span><span class="w"> </span><span class="nn">...</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_config</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="kn">from</span><span class="w"> </span><span class="nn">.._dist_metrics</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span>     <span class="n">BOOL_METRICS</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span>     <span class="n">METRIC_MAPPING64</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span>     <span class="n">DistanceMetric</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> <span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">16</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._argkmin</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span>     <span class="n">ArgKmin32</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">18</span>     <span class="n">ArgKmin64</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">19</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._argkmin_classmode</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">21</span>     <span class="n">ArgKminClassMode32</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">22</span>     <span class="n">ArgKminClassMode64</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">23</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">24</span> <span class="kn">from</span><span class="w"> </span><span class="nn">._base</span><span class="w"> </span><span class="kn">import</span> <span class="n">_sqeuclidean_row_norms32</span><span class="p">,</span> <span class="n">_sqeuclidean_row_norms64</span>

<span class="nn">File sklearn/metrics/_pairwise_distances_reduction/_argkmin.pyx:1,</span> in <span class="ni">init sklearn.metrics._pairwise_distances_reduction._argkmin</span><span class="nt">()</span>

<span class="nn">File sklearn/metrics/_pairwise_distances_reduction/_base.pyx:1,</span> in <span class="ni">init sklearn.metrics._pairwise_distances_reduction._base</span><span class="nt">()</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:645,</span> in <span class="ni">parent</span><span class="nt">(self)</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
</section>
<section id="filtering-a-geodataframe-by-a-vector">
<h2>Filtering a geodataframe by a vector<a class="headerlink" href="#filtering-a-geodataframe-by-a-vector" title="Link to this heading">#</a></h2>
<p>Let‚Äôs say we want to know how many measurements were taken within 150 km of mt. st. helens.  We start with our mt. st. helens point and then we buffer it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># convert our mt st helens 4326 point to 3857</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyproj</span><span class="w"> </span><span class="kn">import</span> <span class="n">Transformer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">shapely.ops</span><span class="w"> </span><span class="kn">import</span> <span class="n">transform</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uc_irvine</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">117.835</span><span class="p">,</span> <span class="mf">33.644</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">Transformer</span><span class="o">.</span><span class="n">from_crs</span><span class="p">(</span><span class="s1">&#39;epsg:4326&#39;</span><span class="p">,</span> <span class="s1">&#39;epsg:3857&#39;</span><span class="p">,</span> <span class="n">always_xy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span>
<span class="n">uc_irvine_projcrs</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">uc_irvine</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Buffer the point</span>
<span class="n">buff_uc_irvine</span> <span class="o">=</span> <span class="n">uc_irvine_projcrs</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geoFIREXprojcrs</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">intersects</span><span class="p">(</span><span class="n">buff_uc_irvine</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0       False
1       False
2       False
3       False
4       False
        ...  
4485    False
4486    False
4487    False
4488    False
4489    False
Length: 4405, dtype: bool
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Notice that we indexed one dataframe by a different dataframe</span>
<span class="n">geoFIREX</span><span class="p">[</span><span class="n">geoFIREXprojcrs</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">intersects</span><span class="p">(</span><span class="n">buff_uc_irvine</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Can#</th>
      <th>Jday</th>
      <th>Latitude</th>
      <th>Longitude</th>
      <th>...</th>
      <th>CO2_ppm</th>
      <th>OCS (MS)</th>
      <th>DMS (MS)</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1779</th>
      <td>9068</td>
      <td>174.0</td>
      <td>33.667200</td>
      <td>-117.847000</td>
      <td>...</td>
      <td>409.0</td>
      <td>570.0</td>
      <td>NaN</td>
      <td>POINT (-117.847 33.6672)</td>
    </tr>
    <tr>
      <th>2206</th>
      <td>6343</td>
      <td>177.0</td>
      <td>33.615195</td>
      <td>-117.784866</td>
      <td>...</td>
      <td>414.0</td>
      <td>593.0</td>
      <td>0.5</td>
      <td>POINT (-117.78487 33.61519)</td>
    </tr>
    <tr>
      <th>2234</th>
      <td>9309</td>
      <td>177.0</td>
      <td>33.640604</td>
      <td>-117.806361</td>
      <td>...</td>
      <td>419.0</td>
      <td>572.0</td>
      <td>NaN</td>
      <td>POINT (-117.80636 33.6406)</td>
    </tr>
  </tbody>
</table>
<p>3 rows √ó 11 columns</p>
</div></div></div>
</div>
<div class="tip admonition">
<p class="admonition-title">üìù Check your understanding</p>
<p>What is the following code doing?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">palmdale</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">118.075</span><span class="p">,</span> <span class="mf">34.61</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">Transformer</span><span class="o">.</span><span class="n">from_crs</span><span class="p">(</span><span class="s1">&#39;epsg:4326&#39;</span><span class="p">,</span> <span class="s1">&#39;epsg:3857&#39;</span><span class="p">,</span> <span class="n">always_xy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span>
<span class="n">palmdale_projcrs</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">palmdale</span><span class="p">)</span>
</pre></div>
</div>
<p>A) Converting a DataFrame called <code class="docutils literal notranslate"><span class="pre">palmdale</span></code> into a projected CRS</p>
<p>B) Converting a DataFrame called <code class="docutils literal notranslate"><span class="pre">palmdale</span></code> into a geographic CRS</p>
<p>C) Converting a Point called <code class="docutils literal notranslate"><span class="pre">palmdale</span></code> into a projected CRS</p>
<p>D) Converting a Point called <code class="docutils literal notranslate"><span class="pre">palmdale</span></code> into a geographic CRS</p>
<p>E) Intersecting the <code class="docutils literal notranslate"><span class="pre">palmdale</span></code> objet with the object <code class="docutils literal notranslate"><span class="pre">t</span></code></p>
</div>
<div class="tip admonition">
<p class="admonition-title">üìù Check your understanding</p>
<p>I want to buffer the mt_st_helens point by 10000m.  What is the problem with the following code I‚Äôve written below to do that?</p>
<p><code class="docutils literal notranslate"><span class="pre">Point(-122.1956,</span> <span class="pre">46.1914).buffer(10000)</span></code></p>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./sarp_lessons/1_python_progression/4-spatiotemporal"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="4-2_spatial_data.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">4.2 Spatial Data</p>
      </div>
    </a>
    <a class="right-next"
       href="4-4_spatial_operations_rio.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">4.4 Spatial Operations and <code class="docutils literal notranslate"><span class="pre">rio</span></code></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#context">Context</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><code class="docutils literal notranslate"><span class="pre">geopandas</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-our-pandas-dataframe-to-a-geodataframe">Converting our <code class="docutils literal notranslate"><span class="pre">pandas</span></code> dataframe to a GeoDataFrame</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spatial-data-operations">Spatial data operations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reprojecting-to-meters">Reprojecting to meters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-plots">Quick Plots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-a-geodataframe-by-a-vector">Filtering a geodataframe by a vector</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Rachel Wegener
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>