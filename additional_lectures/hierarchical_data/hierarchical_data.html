
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hierarchical Data Structure &#8212; SARP Programming Lessons</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Visualization" href="../Visualization/index.html" />
    <link rel="prev" title="Time Series Statistics" href="../time_series_statistics/oceans_stats_examples.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/sarp_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">SARP Programming Lessons</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../index.html">
   Welcome to the SARP Programming Website
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lessons
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/general_python/index.html">
   General Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/1_variables_types_ifstatements.html">
     Variables, Data types, and if Statements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/2_lists_dictionaries.html">
     Lists and Dictionaries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/datetimes.html">
     Datetimes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/spatial_data.html">
     Spatial Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/raster_data/index.html">
   Raster Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/raster_data/1_arrays_numpy.html">
     Arrays and
     <code class="docutils literal notranslate">
      <span class="pre">
       numpy
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/raster_data/2_raster_fundamentals.html">
     Working with rasters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/raster_data/3_accessing_coordinates.html">
     Accessing Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/tabular_data/index.html">
   Tabular Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/tabular_data/1_pandas.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       pandas
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/tabular_data/2_filtering_groupby.html">
     Filtering and groupby
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/tabular_data/3_geopandas.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       geopandas
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Additional Lectures
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Debugging/debugging_lesson.html">
   Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../time_series_statistics/oceans_stats_examples.html">
   Time Series Statistics
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Hierarchical Data Structure
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Visualization/index.html">
   Visualization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Visualization/1_static_viz_with_matplotlib.html">
     Static Data Visualization in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Visualization/2_building_on_matplotlib.html">
     Building on top of
     <code class="docutils literal notranslate">
      <span class="pre">
       matplotlib
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Visualization/3_dynamic_visualization.html">
     Dynamic Visualization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Visualization/viewing_images.html">
     Viewing Images
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Practice Sheets
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/index_practice.html">
   General Python Practice
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/practice/1_variables_data_practice.html">
     Variables, Data Types and If statements Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/practice/2_lists_dicts_practice.html">
     Lists and Dictionaries Answers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/practice/datetimes_practice.html">
     Datetimes Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/practice/spatial_data_practice.html">
     Spatial Data Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/practice/1_variables_data_answers.html">
     Variables, Data Types and If statements Answers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/practice/2_lists_dicts_answers.html">
     Lists and Dictionaries Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/practice/datetimes_answers.html">
     Datetimes Answers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/general_python/practice/spatial_data_answers.html">
     Spatial Data Answers
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/index_practice_raster.html">
   Raster Data Practice
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/raster_data/practice/1_arrays_numpy_practice.html">
     Arrays and
     <code class="docutils literal notranslate">
      <span class="pre">
       numpy
      </span>
     </code>
     Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/raster_data/practice/2_raster_fundamentals_practice.html">
     Raster Fundamentals Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/raster_data/practice/3_accessing_coordinates_practice.html">
     Accessing Coordinates Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/raster_data/practice/1_arrays_numpy_answers.html">
     Arrays and
     <code class="docutils literal notranslate">
      <span class="pre">
       numpy
      </span>
     </code>
     Answers
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lessons/index_practice_tabular.html">
   Tabular Data Practice
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/tabular_data/practice/1_pandas_practice.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       pandas
      </span>
     </code>
     Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/tabular_data/practice/2_filtering_groupby_practice.html">
     Filtering and Groupby Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/tabular_data/practice/3_geopandas_practice.html">
     Practice with
     <code class="docutils literal notranslate">
      <span class="pre">
       geopandas
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/tabular_data/practice/1_pandas_answers.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       pandas
      </span>
     </code>
     Answers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lessons/tabular_data/practice/2_filtering_groupby_answers.html">
     Filtering and Groupby Answers
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/additional_lectures/hierarchical_data/hierarchical_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/rwegener2/sarp_lessons"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/rwegener2/sarp_lessons/issues/new?title=Issue%20on%20page%20%2Fadditional_lectures/hierarchical_data/hierarchical_data.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#file-format-structure">
   File Format Structure
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#concept-no-1-pros-and-cons-of-lenient-file-formats">
     Concept No. 1: pros and cons of lenient file formats
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#concept-no-2-organizing-variables-by-dimension">
     Concept No. 2: organizing variables by dimension
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concept-no-3-groups-and-datasets">
   Concept No. 3: groups and datasets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hdf4">
   HDF4
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install">
     Install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#documentation">
     Documentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-dataset-calipso">
     Example dataset: CALIPSO
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#opening-the-dataset">
     Opening the Dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploring-the-dataset">
     Exploring the dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getting-your-data">
     Getting your data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attributes">
     Attributes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#masking-a-no-data-value">
     Masking a no data value
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hdf5">
   HDF5
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Documentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-dataset-aster-emissivity">
     Example Dataset: ASTER Emissivity
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#opening-a-dataset">
     Opening a Dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploring-groups">
     Exploring Groups
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     Getting your data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     Attributes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#netcdf">
   netCDF
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     Install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#documentation-link">
     Documentation Link
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-dataset-modis-chlorophyll-a">
     Example Dataset: MODIS Chlorophyll-a
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     Opening a Dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     Getting your data
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Hierarchical Data Structure</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#file-format-structure">
   File Format Structure
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#concept-no-1-pros-and-cons-of-lenient-file-formats">
     Concept No. 1: pros and cons of lenient file formats
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#concept-no-2-organizing-variables-by-dimension">
     Concept No. 2: organizing variables by dimension
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concept-no-3-groups-and-datasets">
   Concept No. 3: groups and datasets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hdf4">
   HDF4
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install">
     Install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#documentation">
     Documentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-dataset-calipso">
     Example dataset: CALIPSO
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#opening-the-dataset">
     Opening the Dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploring-the-dataset">
     Exploring the dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getting-your-data">
     Getting your data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attributes">
     Attributes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#masking-a-no-data-value">
     Masking a no data value
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hdf5">
   HDF5
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Documentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-dataset-aster-emissivity">
     Example Dataset: ASTER Emissivity
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#opening-a-dataset">
     Opening a Dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploring-groups">
     Exploring Groups
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     Getting your data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     Attributes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#netcdf">
   netCDF
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     Install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#documentation-link">
     Documentation Link
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-dataset-modis-chlorophyll-a">
     Example Dataset: MODIS Chlorophyll-a
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     Opening a Dataset
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     Getting your data
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="hierarchical-data-structure">
<h1>Hierarchical Data Structure<a class="headerlink" href="#hierarchical-data-structure" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="https://pro.arcgis.com/en/pro-app/latest/help/data/multidimensional/fundamentals-of-netcdf-data-storage.htm">How netCDF files are organized</a></p></li>
<li><p><a class="reference external" href="https://docs.h5py.org/en/stable/quick.html">HDF files</a></p></li>
</ul>
<p>In order to use the data in this notebook you will need to unzip the three files in this folder.</p>
<div class="note dropdown admonition">
<p class="admonition-title">Content</p>
<ul class="simple">
<li><p>Background</p></li>
<li><p>HDF4 example</p></li>
<li><p>HDF5 example</p></li>
<li><p>netCDF example</p></li>
</ul>
</div>
<div class="section" id="file-format-structure">
<h2>File Format Structure<a class="headerlink" href="#file-format-structure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="concept-no-1-pros-and-cons-of-lenient-file-formats">
<h3>Concept No. 1: pros and cons of lenient file formats<a class="headerlink" href="#concept-no-1-pros-and-cons-of-lenient-file-formats" title="Permalink to this headline">¶</a></h3>
<p><img alt="File Format Spectrum" src="../../_images/strict_file_format_spectrum.jpg" /></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p></p></th>
<th class="text-align:center head"><p>Pro</p></th>
<th class="text-align:center head"><p>Con</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><strong>Strict File Format</strong></p></td>
<td class="text-align:center"><p>easy to know what you’re going to get</p></td>
<td class="text-align:center"><p>doesn’t handle all data types</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><strong>Not Strict File Format</strong></p></td>
<td class="text-align:center"><p>handles lots of data types</p></td>
<td class="text-align:center"><p>what’s inside is unpredictable</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="concept-no-2-organizing-variables-by-dimension">
<h3>Concept No. 2: organizing variables by dimension<a class="headerlink" href="#concept-no-2-organizing-variables-by-dimension" title="Permalink to this headline">¶</a></h3>
<img src="https://pro.arcgis.com/en/pro-app/latest/help/data/multidimensional/GUID-D872A4C3-749E-4159-A6C0-FB6D3B47C5D8-web.gif">
<center>A 3-dimensional dataset</center>
<img src="https://pro.arcgis.com/en/pro-app/latest/help/data/multidimensional/GUID-1D7240CD-54D4-45FF-A150-43B1AFFBF7D6-web.gif">
<center>A 4-dimensional dataset</center>
<p>Images from <a class="reference external" href="https://pro.arcgis.com/en/pro-app/latest/help/data/multidimensional/fundamentals-of-netcdf-data-storage.htm">Fundamentals of NetCDF Storage</a> by ESRI</p>
<p>When variables are defined in netCDF files they are also assigned dimensions.  <strong>Dimensions</strong> tell us the axis over which our data varies.  Common examples are latitute, longitude, or time.  The values of the dimensions are given in special variables called <strong>coordinate variables</strong>.  The coordinate variables and dimensions help us understand what the core data stored in each variable is describing.  <strong>Attributes</strong> store metadata about our variables.</p>
</div>
</div>
<div class="section" id="concept-no-3-groups-and-datasets">
<h2>Concept No. 3: groups and datasets<a class="headerlink" href="#concept-no-3-groups-and-datasets" title="Permalink to this headline">¶</a></h2>
<p>In the previous raster lessons we have been using data where the organization is a single dataset per file.  HDF and netCDF are unique in that they allow multiple datasets to be in the same file.  To keep organized, datasets are allowed to be stored together in <strong>groups</strong>.  An analogy is to think of groups like folders in a folder structure and datasets as the individual files.  Groups can have more groups inside of them.</p>
</div>
<div class="section" id="hdf4">
<h2>HDF4<a class="headerlink" href="#hdf4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="install">
<h3>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h3>
<p>In Anaconda Powershell:</p>
<p><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">-n</span> <span class="pre">lessons</span> <span class="pre">pyhdf</span></code></p>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://fhs.github.io/pyhdf/modules/SD.html">http://fhs.github.io/pyhdf/modules/SD.html</a>  (My opinion: pretty terrible docs)</p>
</div>
<div class="section" id="example-dataset-calipso">
<h3>Example dataset: CALIPSO<a class="headerlink" href="#example-dataset-calipso" title="Permalink to this headline">¶</a></h3>
<p>CALIPSO Level 2: <code class="docutils literal notranslate"><span class="pre">CAL_LID_L2_01kmCLay-Standard-V4-21.2020-07-01T07-32-43ZD.hdf</span></code></p>
<p><a class="reference external" href="https://drive.google.com/file/d/1AMNZn8u4TGYefZjuo9UjmSXox1LcGdSE/view?usp=sharing">download link</a></p>
</div>
<div class="section" id="opening-the-dataset">
<h3>Opening the Dataset<a class="headerlink" href="#opening-the-dataset" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from pyhdf.SD import *</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># filepath = &#39;./CAL_LID_L2_01kmCLay-Standard-V4-21.2020-07-01T07-32-43ZD.hdf&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Opening the file</span>
<span class="c1"># d = SD(filepath)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exploring-the-dataset">
<h3>Exploring the dataset<a class="headerlink" href="#exploring-the-dataset" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d.datasets()</span>
</pre></div>
</div>
</div>
</div>
<p>Choose a key from the <code class="docutils literal notranslate"><span class="pre">.datasets()</span></code> dictionary and get the varaible info using <code class="docutils literal notranslate"><span class="pre">.select()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d.select(&#39;Integrated_Attenuated_Backscatter_532&#39;)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="getting-your-data">
<h3>Getting your data<a class="headerlink" href="#getting-your-data" title="Permalink to this headline">¶</a></h3>
<p>The data can be accessed using <code class="docutils literal notranslate"><span class="pre">[:]</span></code> and is output as a numpy array.  Any of the methods we practiced with numpy arrays in lecture can be used on the dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d.select(&#39;Integrated_Attenuated_Backscatter_532&#39;)[:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># backscatter = d.select(&#39;Integrated_Attenuated_Backscatter_532&#39;)[:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># type(backscatter)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># backscatter.shape</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># backscatter.max()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<p>Get metadata with the <code class="docutils literal notranslate"><span class="pre">.attributes()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d.select(&#39;Integrated_Attenuated_Backscatter_532&#39;).attributes()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="masking-a-no-data-value">
<h3>Masking a no data value<a class="headerlink" href="#masking-a-no-data-value" title="Permalink to this headline">¶</a></h3>
<p>While HDF5 data will automatically mask out nodata values, HDF4 datasets often don’t.  To mask them yourself you can look up the fill value and apply it to the array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import numpy.ma as ma</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mask the array</span>
<span class="c1"># masked_backscatter = ma.masked_where(backscatter == -9999, backscatter)</span>
<span class="c1"># Update the nodata value</span>
<span class="c1"># ma.set_fill_value(backscatter, -9999)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># masked_backscatter</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="hdf5">
<h2>HDF5<a class="headerlink" href="#hdf5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Install<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>In Anaconda Powershell:</p>
<p><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">-n</span> <span class="pre">lessons</span> <span class="pre">h5py</span></code></p>
</div>
<div class="section" id="id2">
<h3>Documentation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://docs.h5py.org/en/stable/quick.html">https://docs.h5py.org/en/stable/quick.html</a></p>
</div>
<div class="section" id="example-dataset-aster-emissivity">
<h3>Example Dataset: ASTER Emissivity<a class="headerlink" href="#example-dataset-aster-emissivity" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">AG100.v003.83.-013.0001.h5</span></code></p>
</div>
<div class="section" id="opening-a-dataset">
<h3>Opening a Dataset<a class="headerlink" href="#opening-a-dataset" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import h5py</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># filepath = &#39;./AG100.v003.83.-013.0001.h5&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f = h5py.File(filepath, &#39;r&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exploring-groups">
<h3>Exploring Groups<a class="headerlink" href="#exploring-groups" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f.keys()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f[&#39;Emissivity&#39;]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f[&#39;Emissivity&#39;].keys()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f[&#39;Emissivity&#39;][&#39;Mean&#39;]</span>
</pre></div>
</div>
</div>
</div>
<p>You can check where you are in the file hierarchy with the <code class="docutils literal notranslate"><span class="pre">.name</span></code> method</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f.name</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f[&#39;Emissivity&#39;].name</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f[&#39;Emissivity&#39;][&#39;Mean&#39;].name</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id3">
<h3>Getting your data<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>The data inside the data group dictionaries are numpy arrays, so you can use any of the methods we learned about in other lectures with them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># mean_emissivity = f[&#39;Emissivity&#39;][&#39;Mean&#39;][:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># type(mean_emissivity)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># mean_emissivity.shape</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># mean_emissivity.max()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from matplotlib import pyplot</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pyplot.imshow(mean_emissivity[0])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id4">
<h3>Attributes<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Metadata in HDF files are called <strong>attributes</strong> and are accessed with <code class="docutils literal notranslate"><span class="pre">.attrs</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f[&#39;Emissivity&#39;][&#39;Mean&#39;].attrs.keys()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># f[&#39;Emissivity&#39;][&#39;Mean&#39;].attrs[&#39;Description&#39;]</span>
</pre></div>
</div>
</div>
</div>
<p>If there are no attributes for that group you will just get back an empty list</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># No attributes on the Emissivity group</span>
<span class="c1"># f[&#39;Emissivity&#39;].attrs.keys()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># No attributes on the root group</span>
<span class="c1"># f.attrs.keys()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="netcdf">
<h2>netCDF<a class="headerlink" href="#netcdf" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>Install<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>In Anaconda Powershell:</p>
<p><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">-n</span> <span class="pre">lessons</span> <span class="pre">netcdf4</span></code></p>
</div>
<div class="section" id="documentation-link">
<h3>Documentation Link<a class="headerlink" href="#documentation-link" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://unidata.github.io/netcdf4-python/#creatingopeningclosing-a-netcdf-file">https://unidata.github.io/netcdf4-python/#creatingopeningclosing-a-netcdf-file</a></p>
</div>
<div class="section" id="example-dataset-modis-chlorophyll-a">
<h3>Example Dataset: MODIS Chlorophyll-a<a class="headerlink" href="#example-dataset-modis-chlorophyll-a" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">A2018006.L3m_DAY_CHL_chlor_a_4km.nc</span></code></p>
</div>
<div class="section" id="id6">
<h3>Opening a Dataset<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from netCDF4 import Dataset</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># filepath = &#39;./A2018006.L3m_DAY_CHL_chlor_a_4km.nc&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d = Dataset(filepath, &#39;r&#39;)</span>
</pre></div>
</div>
</div>
</div>
<p>Looking at the <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> object gives us a decent overview of our dataset.  We can see metadata applies to the whole dataset. At the very bottom the <strong>dimensions</strong> and <strong>varaiables</strong> are shown, as well as any additional groups.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d</span>
</pre></div>
</div>
</div>
</div>
<p>You can also directly access dimensions or varaiables.  The outputs act like dictionaries, so you can use <code class="docutils literal notranslate"><span class="pre">.keys()</span></code> or <code class="docutils literal notranslate"><span class="pre">[KEY]</span></code> syntax to access elements</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d.dimensions</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d.variables</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Treating a variable like a dictionary</span>
<span class="c1"># print(d.variables.keys())</span>
<span class="c1"># d.variables[&#39;chlor_a&#39;]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Access metadata with using a period .</span>
<span class="c1"># d.variables[&#39;chlor_a&#39;].long_name</span>
</pre></div>
</div>
</div>
</div>
<p>If the data you need is in a group, it can be accessed with <code class="docutils literal notranslate"><span class="pre">.groups</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># d.groups[&#39;processing_control&#39;]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id7">
<h3>Getting your data<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Once you traverse the file structure with the right keys and find a <code class="docutils literal notranslate"><span class="pre">netCDF4._netCDF4.Variable</span></code> object you can accesss pull out the numpy array and work with it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># chlor_a = d.variables[&#39;chlor_a&#39;][:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># type(chlor_a)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># chlor_a.shape</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># chlor_a.max()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from matplotlib import pyplot</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pyplot.imshow(chlor_a)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./additional_lectures/hierarchical_data"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../time_series_statistics/oceans_stats_examples.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Time Series Statistics</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../Visualization/index.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Visualization</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Rachel Wegener<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>